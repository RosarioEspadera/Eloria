<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Eloria | Order Dishes</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script src="supabase.js"></script>
</head>
<body style="font-family: 'Poppins', sans-serif; background-color: #f8f5f2; padding: 20px;">

  <h1 style="color: #5f4638;">Welcome to Eloria</h1>
  <p>Choose your favorite dishes and receive a receipt via email</p>

  <!-- ğŸŒ Tag Filters -->
  <div class="tag-filters">
    <button data-tag="All">ğŸŒ All</button>
    <!-- Add more tag buttons dynamically if needed -->
  </div>

  <!-- ğŸ½ï¸ Dish Gallery -->
  <section class="dish-gallery" id="dish-gallery">
   <section class="dish-card featured">
  <img src="assets/miso.jpg" alt="Midnight Miso Musings" />
  <div class="dish-info">
    <h2>Midnight Miso Musings</h2>
    <p class="description">A warm hug in a bowl. Shared by Elio.</p>
    <div class="tags">
      <span class="tag">ğŸŒ™ Midnight Pick</span>
      <span class="tag">ğŸ¥— Vegan</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Midnight Miso Musings', 110)">
  ğŸ½ï¸ Add to Order
</button>
    
  </div>
</section>
  
 <section class="dish-card">
  <img src="assets/Adobo.png" alt="Adobo" />
  <div class="dish-info">
    <h2>Classic Adobo</h2>
    <p class="description">Soy, vinegar, and a legacy of comfort simmered in one pan.</p>
    <div class="tags">
      <span class="tag">ğŸ‡µğŸ‡­ Filipino Staple</span>
      <span class="tag">ğŸ¥© Meaty</span>
      <span class="tag">ğŸ‰ Crowd Favorite</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Classic Adobo', 100)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Barbecue.png" alt="Barbecue" />
  <div class="dish-info">
    <h2>Backyard Barbecue</h2>
    <p class="description">Smoky glaze and skewered stories over glowing coals.</p>
    <div class="tags">
      <span class="tag">ğŸ”¥ Grilled</span>
      <span class="tag">ğŸ¥© Meaty</span>
      <span class="tag">ğŸ‰ Crowd Favorite</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Backyard Barbecue', 120)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Beer.png" alt="Beer" />
  <div class="dish-info">
    <h2>Crisp Cold Beer</h2>
    <p class="description">Golden refreshment, bottled laughter, and chill endings.</p>
    <div class="tags">
      <span class="tag">ğŸ¥¤ Beverages</span>
       <span class="tag">ğŸ‰ Crowd Favorite</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Crisp Cold Beer', 60)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/CaffeMacchiatio.png" alt="Caffe Macchiato" />
  <div class="dish-info">
    <h2>Caffe Macchiato</h2>
    <p class="description">A bold dot of espresso in creamy silenceâ€”wakefulness with restraint.</p>
    <div class="tags">
      <span class="tag">â˜• Coffee</span>
      <span class="tag">ğŸ‰ Crowd Favorite</span>
    </div>
 <button class="remix-btn order-btn" onclick="addToCart('Caffe Macchiato', 80)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/CaffeMocha.png" alt="Caffe Mocha" />
  <div class="dish-info">
    <h2>Caffe Mocha</h2>
    <p class="description">Rich chocolate meets espressoâ€”a hug and a buzz.</p>
    <div class="tags">
      <span class="tag">ğŸ§‹ Sweet</span>
     <span class="tag">â˜• Coffee</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Caffe Mocha', 90)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Cappuccino.png" alt="Cappuccino" />
  <div class="dish-info">
    <h2>Cappuccino</h2>
    <p class="description">Milk foam and espresso banterâ€”morningâ€™s favorite duet.</p>
    <div class="tags">
      <span class="tag">â˜• Coffee</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Cappuccino', 90)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Espresso.png" alt="Espresso" />
  <div class="dish-info">
    <h2>Pure Espresso</h2>
    <p class="description">Sharp, small, and life-altering in 40 milliliters.</p>
    <div class="tags">
     <span class="tag">â˜• Coffee</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Pure Espresso', 75)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/IcedTea.png" alt="Iced Tea" />
  <div class="dish-info">
    <h2>Iced Tea</h2>
    <p class="description">A citrus whisper wrapped in iceâ€”refreshment, reimagined.</p>
    <div class="tags">
       <span class="tag">ğŸƒFresh</span>
    <span class="tag">ğŸ¥¤ Beverages</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Iced Tea', 65)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Latte.png" alt="Latte" />
  <div class="dish-info">
    <h2>Warm Latte</h2>
    <p class="description">Gentle warmth and milky poetry for quiet mornings.</p>
    <div class="tags">
      <span class="tag">â˜• Coffee</span>
      <span class="tag">ğŸŒ™ Midnight Pick</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Latte', 85)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Lemonade.png" alt="Lemonade" />
  <div class="dish-info">
    <h2>Lemonade</h2>
    <p class="description">Sunlight in a glassâ€”tart, sweet, and undeniably fresh.</p>
    <div class="tags">
      <span class="tag">ğŸƒFresh</span>
      <span class="tag">ğŸ¥¤ Beverages</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Lemonade', 65)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/MilkShake.png" alt="Milkshake" />
  <div class="dish-info">
    <h2>Milkshake Delight</h2>
    <p class="description">Swirls of creamy sweetness and joyful slurps.</p>
    <div class="tags">
      <span class="tag">ğŸ§‹ Sweet</span>
      <span class="tag">ğŸŒ¿ Comfort</span>
    </div>
  <button class="remix-btn order-btn" onclick="addToCart('Milkshake Delight', 75)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Pasta.png" alt="Pasta" />
  <div class="dish-info">
    <h2>Homestyle Pasta</h2>
    <p class="description">Twists of tradition with garlic confessions in every bite.</p>
    <div class="tags">
      <span class="tag">ğŸŒ¿ Comfort</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Homestyle Pasta', 120)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Salad.png" alt="Salad" />
  <div class="dish-info">
    <h2>Garden Salad</h2>
    <p class="description">Crisp textures and zesty tang, a breath of green.</p>
    <div class="tags">
      <span class="tag">ğŸ¥— Vegan</span>
     <span class="tag">ğŸƒFresh</span>
    </div>
   <button class="remix-btn order-btn" onclick="addToCart('Garden Salad', 85)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>

<section class="dish-card">
  <img src="assets/Steak.png" alt="Steak" />
  <div class="dish-info">
    <h2>Fire-Grilled Steak</h2>
    <p class="description">Bold flavor, seared to perfection for moonlit cravings.</p>
    <div class="tags">
      <span class="tag">ğŸ¥© Meaty</span>
      <span class="tag">ğŸŒ™ Midnight Pick</span>
      <span class="tag">ğŸ”¥ Grilled</span>
    </div>
  <button class="remix-btn order-btn" onclick="addToCart('Fire-Grilled Steak', 130)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>
  
<section class="dish-card">
  <img src="assets/Wine.png" alt="Wine" />
  <div class="dish-info">
    <h2>Red Wine Sipper</h2>
    <p class="description">Deep berries and quiet declarations poured slowly.</p>
    <div class="tags">
     <span class="tag">ğŸ¥¤ Beverages</span>
      <span class="tag">ğŸŒ™ Midnight Pick</span>
    </div>
    <button class="remix-btn order-btn" onclick="addToCart('Red Wine Sipper', 140)">
  ğŸ½ï¸ Add to Order
</button>
  </div>
</section>
  </section>

  <!-- ğŸ›’ Cart Preview -->
  <div id="cart-preview" style="margin-top: 30px; background: #fff; padding: 20px; border-radius: 10px;">
    <h3>Your Order</h3>
    <table id="cart-table" style="width: 100%; border-collapse: collapse;"><tbody></tbody></table>
    <p style="text-align: right; font-weight: bold;">Total: <span id="cart-total">â‚±0</span></p>
  </div>

  <!-- ğŸ’Œ Order Form -->
  <div class="order-wrapper" style="margin-top: 40px;">
    <h2>Order from Rioâ€™s CafÃ©</h2>
    <form id="order-form">
      <label>Your Name</label>
      <input type="text" name="to_name" required />

      <label>Contact Info</label>
      <input type="text" name="contact" required />

      <label>Email Address</label>
      <input type="email" name="reply_to" required />

      <label>Delivery Address</label>
      <input type="text" name="address" required />

      <label>Special Requests</label>
      <textarea name="notes" rows="3"></textarea>

      <!-- Hidden fields for dynamic data -->
      <input type="hidden" name="item_list" />
      <input type="hidden" name="total" />

      <button type="submit">Place Order</button>
    </form>
  </div>

  <!-- ğŸ§  Cart Logic -->
  <script>
    // ğŸŒ Tag Filtering
document.querySelectorAll('.tag-filters button').forEach(button => {
  button.addEventListener('click', () => {
    const selectedTag = button.getAttribute('data-tag');
    const allCards = document.querySelectorAll('.dish-card');

    allCards.forEach(card => {
      if (selectedTag === 'All') {
        card.style.display = 'block';
        return;
      }

      const tags = Array.from(card.querySelectorAll('.tag')).map(tag => tag.textContent.trim());
      const matches = tags.some(tag => tag.includes(selectedTag));
      card.style.display = matches ? 'block' : 'none';
    });
  });
});

    emailjs.init("service_epydqmi");

    const cart = [];

    function addToCart(name, price) {
      cart.push({ name, price });
      updateCart();
    }

    function updateCart() {
      const tableBody = document.querySelector('#cart-table tbody');
      tableBody.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>${item.name}</td><td align="right">â‚±${item.price}</td>`;
        tableBody.appendChild(row);
        total += item.price;
      });

      document.getElementById('cart-total').textContent = `â‚±${total}`;

      // Inject into EmailJS form
      const itemListHTML = cart.map(item => `<tr><td>${item.name}</td><td align="right">â‚±${item.price}</td></tr>`).join('');
      document.querySelector('input[name="item_list"]').value = itemListHTML;
      document.querySelector('input[name="total"]').value = `â‚±${total}`;
    }

    document.getElementById('order-form').addEventListener('submit', function(e) {
      e.preventDefault();
      emailjs.sendForm("service_epydqmi", "template_vzuexod", this)
        .then(() => alert("Order sent! Receipt emailed."))
        .catch(err => alert("Failed to send order."));
    });
  </script>

  <!-- ğŸŒ™ Theme Toggle -->
  <button id="themeToggle">ğŸŒ™ Dark Mode</button>
  <script>
    const toggleBtn = document.getElementById('themeToggle');
    const body = document.body;
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) body.setAttribute('data-theme', savedTheme);

    toggleBtn.addEventListener('click', () => {
      const current = body.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      toggleBtn.textContent = newTheme === 'dark' ? 'â˜€ï¸ Light Mode' : 'ğŸŒ™ Dark Mode';
    });

    toggleBtn.textContent = body.getAttribute('data-theme') === 'dark' ? 'â˜€ï¸ Light Mode' : 'ğŸŒ™ Dark Mode';
  </script>

  <!-- ğŸ“¥ Bottom Navigation -->
  <nav class="bottom-tab">
    <a class="tab-link" href="index.html"><span>ğŸ½ï¸</span><p>Menu</p></a>
    <a class="tab-link" href="profile.html"><span>ğŸ‘¤</span><p>Profile</p></a>
    <a class="tab-link" href="chat.html"><span>ğŸ“¥</span><p>Inbox</p></a>
  </nav>

  <footer style="margin-top: 40px; text-align: center; font-size: 0.9em; color: #999;">
    Built with joy by Rosario & Elio ğŸ½ï¸
  </footer>
</body>
</html>
